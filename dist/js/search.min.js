var idx,searchInput,searchResults=null,documents=[];function renderSearchResults(e){e.length>0?(e.length>9&&(e=e.slice(0,10)),searchResults.innerHTML="",e.forEach(e=>{var t=document.createElement("article");t.innerHTML=`\n            <a href="${e.ref}"><h3 class="title">${documents[e.ref].title}</h3></a>\n            <p><a href="${e.ref}">${e.ref}</a></p>\n            <br>\n            `,searchResults.appendChild(t)})):searchResults.innerHTML="<p>No results found.</p>"}function registerSearchHandler(){searchInput.oninput=function(e){if(""==searchInput.value)searchResults.innerHTML="";else{var t=e.target.value;renderSearchResults(idx.search(t+"*"))}},searchInput.focus(),searchInput.placeholder=""}window.onload=function(){searchInput=document.getElementById("search-input"),searchResults=document.getElementById("search-results"),fetch("/news/post/index.json",{method:"get"}).then(e=>e.json()).then(e=>{idx=lunr(function(){this.ref("url"),this.field("title"),this.field("content"),e.forEach(function(e){this.add(e),documents[e.url]={title:e.title,content:e.content}},this)}),registerSearchHandler()}).catch(e=>{searchResults.innerHTML=`<p>${e}</p>`})};